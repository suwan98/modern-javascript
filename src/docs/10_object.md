# 모던자바스크립트 DeepDive 10장 : 객체 리터럴

## 객체란?

**객체란?**

- 자바스크립트는 객체기반 프로그래밍언어이다.
- 자바스크립트를 구성하는 거의 모든것은 객체이다.
- 원시타입은 단 하나의 값만 나타내지만, 객체 타입은 다양한 타입의 값(원시값 혹은 다른 객체)를 하나의 단위로 구성한 복합적인 자료구조
- 원시값은 변경 불가능한 값이지만 객체타입의 값은 변경가능한 값이다.

**객체는 0개 이상의 프로퍼티로 구성된 집합이고 프로퍼티는 키(key)와 값(value)로 구성된다**

- 여기서 `name : ‘Lee’`는 프로퍼티 이며
- `name`은 프로퍼티의 키 이고
- `‘Lee’`는 프로퍼티 값이다

```jsx
const person = {
  name: "Lee",
  age: 20,
};
```

**자바스크립트에서 사용할 수 있는 모든 값은 프로퍼티 값이 될 수 있다**

- 자바스크립트의 함수는 일급객체 이므로 값으로 취급 가능
  - 따라서 **함수도 값으로 사용될 수 있다,**
- **프로퍼티의 값이 함수일 경우** 일반 함수와 구분하기 위해 **`메서드`**라 부른다

```jsx
const counter = {
  num: 0, // 프로퍼티

  /* 메서드 */
  increase: function () {
    this.num++;
  },
};
```

**위 코드에서 프로퍼티와 메서드의 역할은?**

- 프로퍼티 : 객체의 상태를 나타내는 값(data)
- 메서드 : 프로퍼티(상태 데이터)를 참조하고 조작할 수 있는 동작

객체는 상태를 나타내는 값(프로퍼티)와 프로퍼티를 참조하고 동작할 수 있는 동작(메서드)를 모두 포함 할 수 있기때문에 상태와 동작을 하나의 단위로 구조화할 수 있어 유용하다

## 객체 리터럴에 의한 객체 생성

**자바스크립트는 프로토타입 기반 객체지향 언어로서 다양한 객체 생성 방법을 지원한다**

- 객체 리터럴
- `Object` 생성자 함수
- 생성자 함수
- `Object.create` 메서드
- 클래스(ES6)

**객체 생성 방법 중에서 가장 일반적이고 간단한 방법은 객체 리터럴을 사용하는 방식(=리터럴)**

- 객체 리터럴은 중괄호 내부 0개이 상의 프로퍼티를 정의한다
- 변수에 할당되는 시점에 자바스크립트 엔진은 객체리터럴을 해석 해 객체를 생성한다

```js
// 객체리터럴 방식으로 person 객체를 생성
const person = {
	name : 'Suwan'
	sayHell : function(){
			console.log(`Hello my name is ${name}!`)
		}
	};

console.log(typeof person) //object
console.log(person) // {name : "Suwan", sayHello: f}
```

**객체 리터럴은 자바스크립트의 유연함과 강력함을 대표하는 객체생성방식**

- 객체를 생성하기 위해 클래스를 정의하거나, `new` 연산자와 함께 객체 생성자함수를 호출할 필요가 없어진다.
- 숫자 값이나 문자열을 만드는것과 유사히 리터럴방식으로 객체를 생성할 수 있다

## 프로퍼티

**객체는 프로퍼티 집합이며, 프로퍼티는 키와 값으로 구성**

```js
const person = {
  /* 프로퍼티 키는 name, 프로퍼티 값은 'suwan' */
  name: "suwan",
};
```

**프로퍼티 나열시 쉼표로 구분하며, 프로퍼티 키와 프로퍼티 값으로 사용 할 수 있는 값은 다음과 같음**

- 프로퍼티 키(key) : 문자열을 포함하는 모든 문자열(`stinrg`) 또는 심벌 값(`Symbol`)
  - 프로퍼티 키는 프로퍼티 값에 접근할 수 있는 이름으로서 식별자 역할을 한다
- 프로퍼티 값(value) : 자바스크립트에서 사용할 수 있는 모든 값

## 메서드 (Method)

**프로퍼티 값이 함수일 때 일반 함수와 구분하기 위해 `메서드`라 명명**

- 즉, **메서드**란 **객체에 묶여 있는 함수**

```js
const circle = {
	radius : 5; // 프로퍼티

	/* 메서드 */
	getDimeter : function(){
			return 2 * this.radius // this는 circle을 가리킨다
		}
	};


console.log(circle.getDimeter()) //10
```

## 프로퍼티 접근

### 프로퍼티 접근

**접근하는 방법은 두가지가 있다**

1. 마침표 프로퍼티 접근 연산자를 사용하는 **마침표 표기법**
2. 대괄호 프로퍼티 접근 연산자를 사용하는 **대괄호 표기법**

대괄호 표기법 사용시 접근 연산자 내부에 지정하는 프로퍼티 키는 반드시 따옴표로 감싼 문자열이어야한다

```js
const person = {
  name: "suwan",
};

/* 마침표 표기법에 의한 접근 */
console.log(person.name); // 'suwan'

/* 대괄호 표기법에 의한 접근 */
console.log(perosn["name"]); // 'suwan'
```

### 프로퍼티 값 갱신 / 동적 생성 / 삭제

**프로퍼티 값 갱신**

- 이미 존재하는 프로퍼티에 값을 할당하면 프로퍼티 값이 갱신된다

```js
const person = {
  name: "suwan",
};

/* person 객체에 name 프로퍼티가 존재하므로 name 프로퍼티 값이 갱신된다 */
person.name = "seju";
console.log(person.name); // -> 'seju'
```

**프로퍼티 동적 생성**

- 존재하지 않는 프로퍼티에 값을 할당하면 프로퍼티가 동적으로 생성되어 추가되고 프로퍼티 값이 할당 된다

```js
const person = {
  name: "suwan",
};

/* person 객체에는 age가 존재 X */
/* person 객체에 age 프로퍼티가 동적으로 생성되고 할당 */
person.age = 20;

console.log(person); // => {name : 'suwan', age : 20}
```

**프로퍼티 삭제**

- `delete` 연산자는 객체의 프로퍼티를 삭제할 수 있다

```js
const person = {
  name: "suwan",
};

/* 프로퍼티 동적생성 */
person.age = 20;

/* delete 연산자로 동적생성한 age 프로퍼티를 삭제 */
delete person.age;

console.log(person); // -> {name : 'suwan'}
```

## ES6에 추가된 객체 리터럴의 확장 기능

### 프로퍼티 축약 표현

**프로퍼티 값으로 변수를 사용하는 경우 변수 이름과 프로퍼티 키가 동일한 이름 일때 프로퍼티 키를 생략가능**

- 이때 프로퍼티 키는 변수의 이름으로 자동 생성된다

```js
let x = 1,
  y = 2;

/* 프로퍼티 축약 표현 */
const obj = {x, y};

console.log(obj); // {x : 1, y : 2}
```

### 계산된 프로퍼티

**문자열 또는 문자열로 타입 변환 할 수 있는 값으로 평가되는 표현식을 사용해 프로퍼티 키를 동적으로 생성가능**

- 단 프로퍼티의 키로 사용할 표현식을 **대괄호로 묶어야 한다**

```js
const prefix = "prop";
let i = 0;

/* 객체 리터럴 내부에서 계산된 프로퍼티 이름으로 키를 동적으로 생성 */
const obj = {
  [`${prefix}-${++i}`]: i,
  [`${prefix}-${++i}`]: i,
};

console.log(obj); // -> {prop-1 : 1, prop-2 : 2}
```

### 메서드 축약 표현

- `function` 키워드를 생략한 축약표현 가능

```js
/* this를 사용해서 obj를 참조하기 */
const obj = {
  name: "suwan",
  sayHi() {
    console.log(`my name is ${this.name}`);
  },
};
obj.sayHi();

const obj = {
  name: "suwan",
  sayHi() {
    console.log(`my name is ${obj.name}`);
  },
};
obj.sayHi(); //->  my name is suwan
```
